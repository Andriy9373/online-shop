{"ast":null,"code":"import { createStore } from 'vuex';\nimport actions from './actions/actions'; // json-server --watch db.json => enter this command to run the API\n\nexport default createStore({\n  state: {\n    products: [],\n    cart: []\n  },\n  mutations: {\n    setProducts(state, payload) {\n      state.products = payload;\n    },\n\n    setCart(state, payload) {\n      let isProductExists = false;\n\n      if (state.cart.length) {\n        state.cart.map(function (item) {\n          if (item.article === payload.article) {\n            isProductExists = true;\n            item.quantity++;\n          }\n        });\n\n        if (!isProductExists) {\n          state.cart.push(payload);\n        }\n      } else {\n        state.cart.push(payload);\n      }\n    },\n\n    deleteProduct(state, payload) {\n      state.cart.splice(payload, 1);\n    },\n\n    incrementItem(state, index) {\n      state.cart[index].quantity++;\n    },\n\n    decrementItem(state, index) {\n      if (state.cart[index].quantity > 1) state.cart[index].quantity--;\n    }\n\n  },\n  actions,\n  getters: {\n    getTotalPrice(state) {\n      let totalPrice = 0;\n      state.cart.forEach(item => {\n        totalPrice += item.price * item.quantity;\n      });\n      return totalPrice;\n    }\n\n  }\n});","map":{"version":3,"names":["createStore","actions","state","products","cart","mutations","setProducts","payload","setCart","isProductExists","length","map","item","article","quantity","push","deleteProduct","splice","incrementItem","index","decrementItem","getters","getTotalPrice","totalPrice","forEach","price"],"sources":["/home/andrii/Hirniak_Andrii/Projects for CD/VUE-JS/online_shop/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport actions from './actions/actions';\n\n// json-server --watch db.json => enter this command to run the API\n\nexport default createStore({\nstate: {\n    products: [],\n    cart: [],\n},\nmutations: {\n    setProducts(state, payload) {\n        state.products = payload;\n    },\n    setCart(state, payload) {\n        let isProductExists = false;\n        if (state.cart.length) {\n        state.cart.map(function (item) {\n            if (item.article === payload.article) {\n            isProductExists = true;\n            item.quantity++\n            }\n        })\n        if (!isProductExists) {\n            state.cart.push(payload)\n        }\n        } else {\n        state.cart.push(payload)\n        }\n    },\n    deleteProduct(state, payload) {\n        state.cart.splice(payload, 1);\n    },\n    incrementItem(state, index) {\n        state.cart[index].quantity++;\n\n    },\n    decrementItem(state, index) {\n        if (state.cart[index].quantity > 1) state.cart[index].quantity--\n    }\n},\nactions,\ngetters: {\n    getTotalPrice(state) {\n        let totalPrice = 0;\n        state.cart.forEach(item => {\n            totalPrice += item.price * item.quantity;\n        })\n        return totalPrice;\n    }\n}\n})"],"mappings":"AAAA,SAASA,WAAT,QAA4B,MAA5B;AACA,OAAOC,OAAP,MAAoB,mBAApB,C,CAEA;;AAEA,eAAeD,WAAW,CAAC;EAC3BE,KAAK,EAAE;IACHC,QAAQ,EAAE,EADP;IAEHC,IAAI,EAAE;EAFH,CADoB;EAK3BC,SAAS,EAAE;IACPC,WAAW,CAACJ,KAAD,EAAQK,OAAR,EAAiB;MACxBL,KAAK,CAACC,QAAN,GAAiBI,OAAjB;IACH,CAHM;;IAIPC,OAAO,CAACN,KAAD,EAAQK,OAAR,EAAiB;MACpB,IAAIE,eAAe,GAAG,KAAtB;;MACA,IAAIP,KAAK,CAACE,IAAN,CAAWM,MAAf,EAAuB;QACvBR,KAAK,CAACE,IAAN,CAAWO,GAAX,CAAe,UAAUC,IAAV,EAAgB;UAC3B,IAAIA,IAAI,CAACC,OAAL,KAAiBN,OAAO,CAACM,OAA7B,EAAsC;YACtCJ,eAAe,GAAG,IAAlB;YACAG,IAAI,CAACE,QAAL;UACC;QACJ,CALD;;QAMA,IAAI,CAACL,eAAL,EAAsB;UAClBP,KAAK,CAACE,IAAN,CAAWW,IAAX,CAAgBR,OAAhB;QACH;MACA,CAVD,MAUO;QACPL,KAAK,CAACE,IAAN,CAAWW,IAAX,CAAgBR,OAAhB;MACC;IACJ,CAnBM;;IAoBPS,aAAa,CAACd,KAAD,EAAQK,OAAR,EAAiB;MAC1BL,KAAK,CAACE,IAAN,CAAWa,MAAX,CAAkBV,OAAlB,EAA2B,CAA3B;IACH,CAtBM;;IAuBPW,aAAa,CAAChB,KAAD,EAAQiB,KAAR,EAAe;MACxBjB,KAAK,CAACE,IAAN,CAAWe,KAAX,EAAkBL,QAAlB;IAEH,CA1BM;;IA2BPM,aAAa,CAAClB,KAAD,EAAQiB,KAAR,EAAe;MACxB,IAAIjB,KAAK,CAACE,IAAN,CAAWe,KAAX,EAAkBL,QAAlB,GAA6B,CAAjC,EAAoCZ,KAAK,CAACE,IAAN,CAAWe,KAAX,EAAkBL,QAAlB;IACvC;;EA7BM,CALgB;EAoC3Bb,OApC2B;EAqC3BoB,OAAO,EAAE;IACLC,aAAa,CAACpB,KAAD,EAAQ;MACjB,IAAIqB,UAAU,GAAG,CAAjB;MACArB,KAAK,CAACE,IAAN,CAAWoB,OAAX,CAAmBZ,IAAI,IAAI;QACvBW,UAAU,IAAIX,IAAI,CAACa,KAAL,GAAab,IAAI,CAACE,QAAhC;MACH,CAFD;MAGA,OAAOS,UAAP;IACH;;EAPI;AArCkB,CAAD,CAA1B"},"metadata":{},"sourceType":"module"}